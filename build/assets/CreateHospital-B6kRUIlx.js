import{r as h,j as e}from"./index-BQvi41i-.js";import{A as v,a as N,c as y}from"./DocsExample-_fROffxm.js";import{C as S}from"./index.esm-C8QhAwOE.js";import{c as q,a as t,u as A,C as o,o as E}from"./index.esm-BI5tGrkS.js";import{C as j}from"./CAlert-BrmTckJ1.js";import{C as F,a as H}from"./CCardBody-CFGSZ_SX.js";import{C as M}from"./CForm-D2kOCyf1.js";import{C as m,a as d}from"./CInputGroupText-DDx4Ewq2.js";import{C as n}from"./CFormInput-UsDlt-V0.js";import{C as w}from"./CFormLabel-D_S0RRtD.js";import{C as I}from"./CFormTextarea-Bn22ojlm.js";import"./cil-user-Dlmw-Gem.js";import"./CFormControlWrapper-C9fD3Vh-.js";import"./CFormControlValidation-BKQM0ZNT.js";const Q=()=>{const[c,p]=h.useState(""),[x,l]=h.useState(""),u=q().shape({hospitalname:t().min(3,"HospitalName must be at least 3 characters long").required("Username is required"),mobile:t().matches(/^\d{10}$/,"Mobile number must be exactly 10 digits").required("Mobile number is required"),email:t().email("Invalid email address").required("Email is required"),address:t().required("Address is required")}),{control:a,handleSubmit:b,formState:{errors:r,isSubmitting:C}}=A({resolver:E(u)}),f=async s=>{p(""),l("");try{const i=await fetch("http://localhost:3001/CreateHospital",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),g=await i.json();i.ok?p("User added successfully!"):l(g.message||"User creation failed!")}catch(i){l("Error connecting to server"),console.error("Error connecting to server",i)}};return e.jsxs("div",{children:[e.jsx(v,{}),e.jsxs("div",{className:"wrapper d-flex flex-column min-vh-100",children:[e.jsx(N,{}),e.jsxs("div",{className:"container mt-4",children:[c&&e.jsx(j,{color:"success",children:c}),x&&e.jsx(j,{color:"danger",children:x}),e.jsx(F,{className:"p-4",children:e.jsx(H,{children:e.jsxs(M,{onSubmit:b(f),children:[e.jsx(o,{name:"hospitalname",control:a,render:({field:s})=>e.jsxs("div",{className:"mb-3",children:[e.jsxs(m,{children:[e.jsx(d,{id:"hospitalname",children:"Hospital Name"}),e.jsx(n,{...s,type:"text","aria-label":"Username","aria-describedby":"username"})]}),r.hospitalname&&e.jsx("div",{className:"text-danger",children:r.hospitalname.message})]})}),e.jsx(o,{name:"mobile",control:a,render:({field:s})=>e.jsxs("div",{className:"mb-3",children:[e.jsxs(m,{children:[e.jsx(d,{id:"mobile",children:"Mobile Number"}),e.jsx(n,{...s,type:"tel","aria-label":"Mobile","aria-describedby":"mobile"})]}),r.mobile&&e.jsx("div",{className:"text-danger",children:r.mobile.message})]})}),e.jsx(o,{name:"email",control:a,render:({field:s})=>e.jsxs("div",{className:"mb-3",children:[e.jsxs(m,{children:[e.jsx(d,{id:"email",children:"Email"}),e.jsx(n,{...s,type:"email","aria-label":"Email"})]}),r.email&&e.jsx("div",{className:"text-danger",children:r.email.message})]})}),e.jsx(o,{name:"address",control:a,render:({field:s})=>e.jsxs("div",{className:"mb-3",children:[e.jsx(w,{htmlFor:"address",children:"Address"}),e.jsx(I,{...s,id:"address",rows:3}),r.address&&e.jsx("div",{className:"text-danger",children:r.address.message})]})}),e.jsx(S,{color:"primary",className:"px-4 d-block mx-auto",type:"submit",disabled:C,children:"Add Hospital"})]})})})]}),e.jsx(y,{})]})]})};export{Q as default};
